<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Quentin Ligier"><link href=https://qligier.github.io/cara-emed-ig/other/upcoming_changes/ rel=canonical><link href=../../oids/ rel=prev><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.0.15"><title>Upcoming Changes - CARA's eMedication IG</title><link rel=stylesheet href=../../assets/stylesheets/main.113286f1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../stylesheets/cara.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#currently-deployed class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="CARA's eMedication IG" class="md-header__button md-logo" aria-label="CARA's eMedication IG" data-md-component=logo> <img src=../../assets/cara.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> CARA's eMedication IG </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Upcoming Changes </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <div class=md-header__source> <a href=https://github.com/qligier/cara-emed-ig title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../transactions/ class=md-tabs__link> Transactions </a> </li> <li class=md-tabs__item> <a href=../../workflows/ class=md-tabs__link> Workflows </a> </li> <li class=md-tabs__item> <a href=../../emed/ class=md-tabs__link> CH-EMED-EPR </a> </li> <li class=md-tabs__item> <a href=../../appc/ class=md-tabs__link> PMP-APPC </a> </li> <li class=md-tabs__item> <a href=../../endpoints/ class=md-tabs__link> EndPoints </a> </li> <li class=md-tabs__item> <a href=../../oids/ class=md-tabs__link> OIDs </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Upcoming Changes </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="CARA's eMedication IG" class="md-nav__button md-logo" aria-label="CARA's eMedication IG" data-md-component=logo> <img src=../../assets/cara.svg alt=logo> </a> CARA's eMedication IG </label> <div class=md-nav__source> <a href=https://github.com/qligier/cara-emed-ig title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../../transactions/ >Transactions</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../transactions/documents/ class=md-nav__link> Documents </a> </li> <li class=md-nav__item> <a href=../../transactions/auth/ class=md-nav__link> Auth </a> </li> <li class=md-nav__item> <a href=../../transactions/iti41/ class=md-nav__link> XDS: publish documents (ITI-41) </a> </li> <li class=md-nav__item> <a href=../../transactions/iti43/ class=md-nav__link> XDS: retrieve documents (ITI-43) </a> </li> <li class=md-nav__item> <a href=../../transactions/iti18/ class=md-nav__link> XDS: search documents (ITI-18) </a> </li> <li class=md-nav__item> <a href=../../transactions/iti57/ class=md-nav__link> XDS: delete documents (ITI-57) </a> </li> <li class=md-nav__item> <a href=../../transactions/chpharm1/ class=md-nav__link> XDS: search pharmacy documents (CH:PHARM-1) </a> </li> <li class=md-nav__item> <a href=../../transactions/date_processing/ class=md-nav__link> Date processing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../workflows/ >Workflows</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Workflows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../workflows/situationalworkflows/ class=md-nav__link> Situational workflows </a> </li> <li class=md-nav__item> <a href=../../workflows/aggregation/ class=md-nav__link> Aggregation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../emed/ class=md-nav__link> CH-EMED-EPR </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../appc/ >PMP-APPC</a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> PMP-APPC </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> EndPoints <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> EndPoints </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../endpoints/ class=md-nav__link> Endpoints </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../oids/ class=md-nav__link> OIDs </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Upcoming Changes <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Upcoming Changes </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#currently-deployed class=md-nav__link> Currently Deployed </a> </li> <li class=md-nav__item> <a href=#next-release-dates class=md-nav__link> Next Release Dates </a> </li> <li class=md-nav__item> <a href=#relevant-changes class=md-nav__link> Relevant Changes </a> <nav class=md-nav aria-label="Relevant Changes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pmp-v0413 class=md-nav__link> PMP v0.4.13 </a> </li> <li class=md-nav__item> <a href=#pmp-v0412 class=md-nav__link> PMP v0.4.12 </a> </li> <li class=md-nav__item> <a href=#pmp-v049 class=md-nav__link> PMP v0.4.9 </a> </li> <li class=md-nav__item> <a href=#pmp-v048 class=md-nav__link> PMP v0.4.8 </a> </li> <li class=md-nav__item> <a href=#pmp-v045 class=md-nav__link> PMP v0.4.5 </a> </li> <li class=md-nav__item> <a href=#pmp-v044 class=md-nav__link> PMP v0.4.4 </a> </li> <li class=md-nav__item> <a href=#pmp-v040 class=md-nav__link> PMP v0.4.0 </a> </li> <li class=md-nav__item> <a href=#pmp-v030 class=md-nav__link> PMP v0.3.0 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Upcoming Changes</h1> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Note that possible changes on Husky or other libraries/dependencies are not listed here and it is up to integrators to keep track of them.</p> </div> <h2 id=currently-deployed>Currently Deployed</h2> <ul> <li>dev:<ul> <li>PMP (aggregator) v0.4.13 (deployed 2024-07-26, DB recreated with v0.4.0 deployed 2024-04-23), works with <a href=https://fhir.ch/ig/ch-emed-epr/index.html>CH EMED EPR 1.0.0</a>.</li> <li>ALPAGE v0.0.6 (deployed 2024-07-26)</li> </ul> </li> <li>int:<ul> <li>PMP (aggregator) v0.3.0 (deployed ~2024-04-15, DB recreated), works with <a href=https://fhir.ch/ig/ch-emed-epr/index.html>CH EMED EPR 1.0.0</a>.</li> <li>ALPAGE v0.0.3 (deployed ~2024-04-15 due to VM migration, same version as prev. VM, DB recreated)</li> </ul> </li> </ul> <h2 id=next-release-dates>Next Release Dates</h2> <ul> <li>Next CH EMED EPR version release: <em>TBD</em></li> <li>Next aggregator release: <em>TBD</em></li> <li>Next aggregator deployment: <em>TBD</em></li> </ul> <h2 id=relevant-changes>Relevant Changes</h2> <h3 id=pmp-v0413>PMP v0.4.13</h3> <p>Minor fixes and improved audit log generation.</p> <h3 id=pmp-v0412>PMP v0.4.12</h3> <p>No relevant changes. Version deployed with a workaround for a problem with the routes of administration on PMLC generation while waiting for the next release of Husky to fix the issue. See https://github.com/project-husky/husky/issues/153</p> <h3 id=pmp-v049>PMP v0.4.9</h3> <ul> <li>Fixed several bugs affecting the application of matching APPC policy sets (problems with access rights).</li> <li>All the notes received with any resource are now aggregated (e.g. a note provided with a <code>MedicationStatement</code> resource within an MTP document).</li> <li>All the aggregated comments/notes, for both medication treatment and medication treatment instance(s), will be now added to the PMLC medication statements. Previously only treatment comments were added to the PMLC.</li> <li>Fixed bug on aggregation of PADV CANCEL targeting a PRE, preventing the transaction from completing.</li> <li>Improved audit trail log generation for ITI-18 and PHARM-1 transactions (WIP for all transactions).</li> </ul> <h3 id=pmp-v048>PMP v0.4.8</h3> <p>The aggregator can enable and disable the application of APPC rules (for debugging purposes) with a restart of the service, no redeployment needed.</p> <h3 id=pmp-v045>PMP v0.4.5</h3> <p>The aggregator has again disabled the application of APPC rules to unblock integration tests in dev and until better debugging information is added to the affected code.</p> <h3 id=pmp-v044>PMP v0.4.4</h3> <p>The aggregator has reactivated the application of APPC rules to grant or deny access rights to the PMP. An exception has been kept for TCUs to always allow TCUs right of publication:</p> <ul> <li>TCU access rules have not yet been defined by CARA.</li> <li>Some systems like Presco have yet to transition from TCU publication to HCP publication (to be done before pilot phase).</li> </ul> <h3 id=pmp-v040>PMP v0.4.0</h3> <p>The PMP is abandoning the use of CARA&rsquo;s MPI-PID as XAD-PID and with the v0.4.0 starts a transition period towards the use of a PMP-PID (<em>PMP assigned patient id</em>) as XAD-PID in order to pave the road to support systems with patients from other reference communities. What this entails for PMP v0.4.0:</p> <ul> <li>Patient registration:<ul> <li>Query: an ITI-45 query (added with v0.3.0) allows a system to know if a patient has a PMP registration (whether active or not) and to fetch the PMP-PID.</li> <li>Add: to register a patient, the following steps will be needed:<ol> <li>Perform an ITI-44 <em>Patient Registry Record <strong>Added</strong></em> (PIXV3 feed) to add the new patient to the PMP.</li> <li>Fetch the PMP-PID with an ITI-45 query to the PMP.</li> <li>Perform an ITI-41 with the APPC document to activate the registration. Until this is done, no other transaction for providing, fetching or searching documents will be accepted.</li> </ol> </li> </ul> </li> <li>All requests (other than PIX) expect now the use of PMP-PID ids (SubmissionSet.patientId and DocumentEntry.patientId). Systems can continue to use CARA&rsquo;s MPI-PIDs for this and the aggregator will perform a translation but include a warning with the response. The grace period for transitioning towards PMP-PIDs has not been defined. Note that PMP-PIDs will not be the same for the same patients in different environments, see <a href=oids.html>OIDs</a> for the each deployed platform&rsquo;s patient identification domain id.</li> </ul> <h3 id=pmp-v030>PMP v0.3.0</h3> <p>Relevant changes from (upcoming) CH EMED EPR 1.0.0 based on CH EMED 4.0.0 (the latter should be published before the end of the current year):</p> <ul> <li> <p>Authorship and authorship timestamps. Please refer to the <a href=https://build.fhir.org/ig/hl7ch/ch-emed/authorship.html>CH EMED authorship guidance page</a> for further reading:</p> <ul> <li> <p>All eMed entries will <strong>require</strong> the relevant authorship and authorship timestamp fields to be filled (i.e. <code>1..1</code> cardinality):</p> </li> <li> <p><code>MedicationStatement</code> resources (MTP, PADV, PML, PMLC docs):</p> <ul> <li><code>.informationSource</code> shall refer to the author of the medical decision.</li> <li><code>.dateAsserted</code> shall specify the date of said medical decision (treatment plan).</li> </ul> </li> <li>All <code>MedicationRequest</code> resources (PRE, PADV, PML docs):<ul> <li><code>.requester</code> shall refer to the author of the medical decision.</li> <li><code>.authoredOn</code> shall specify the date of said medical decision (prescription).</li> </ul> </li> <li>All <code>MedicationDispense</code> resources (DIS, PML docs):<ul> <li><code>.performer.actor</code> shall refer to the author of the medical decision (dispense).</li> <li><code>.whenHandedOver</code> shall specify the date of the dispense.</li> </ul> </li> <li>All <code>Observation</code> resources (PADV, PML docs):<ul> <li><code>.performer</code> shall refer to the author of the observation.</li> <li><code>.issued</code> shall specify the date of the observation.</li> </ul> </li> <li> <p>All <code>Composition</code> resources:</p> </li> <li> <p>No changes to the composition <code>.author</code>: this shall contain the author of the <strong>document</strong>, which may match any eMed entry&rsquo;s author but not necessarily (e.g. an assistant adding an MTP to the PMP on behalf of a practitioner would be the composition author while the practitioner would be the entry&rsquo;s author).</p> </li> <li>eMed sections of <code>Composition</code> resources will no longer support the <code>.author</code> element, which previously would optionally specify a medical author if different from the document (i.e. composition) author.</li> <li>PML and PMLC eMed entries shall continue (as it is already the case) to include the <code>authorDocument</code> extension if for the last aggregated entry the document author differs from the entry&rsquo;s author. Note that as per the rules above, the author of the entry (i.e. medical author) is always included in the entry.</li> <li>Changes to CH EMED&rsquo;s <code>UnitCode</code> value set:</li> <li>Several UCUM annotations have been replaced by equivalent SNOMED codes, please refer to <a href=https://fhir.ch/ig/ch-emed/ValueSet-UnitCode.html>CH EMED <code>UnitCode</code></a></li> <li><code>{Piece}</code> remains valid for now in the value set because the equivalent SNOMED term is missing, this will be solved for the next version of CH EMED when it should be replaced by a SNOMED code.</li> <li>The UnitCode-based <a href=https://build.fhir.org/ig/CARA-ch/ch-emed-epr/ValueSet-ch-emed-epr-amount-quantity-unit-code.html><code>CHEMEDEPRAmountQuantityUnitCode</code></a> value set reflects those changes.</li> <li>Removed <code>N</code> from the <a href=https://build.fhir.org/ig/CARA-ch/ch-emed-epr/ValueSet-ch-emed-epr-amount-quantity-unit-code.html><code>CHEMEDEprActSubstanceAdminSubstitutionCode</code></a> value set. This affects <code>MedicationDispense</code> resources only:</li> <li>The value set now contains only <code>E</code> as allowed code.</li> <li>New CH EMED constraint: if no substitution has been performed, the <code>MedicationDispense.substitution.type</code> element SHALL NOT be present (see constraint <code>ch-emed-dis-1</code> on either the CH EMED or CH EMED EPR resource definition).</li> <li>Te CH EMED EPR IG reflects now that the <code>prescription</code> extension of the <code>MedicationDispense</code> resource is supported. </li> <li>If the treatment has been prescribed, the aggregator&rsquo;s logic will continue to enforce that this extension is filled and that it references a valid prescription for the same treatment.</li> <li>For all eMed resources, <code>note.time</code> shall not be supported any more: it is assumed that the time is the same as for the entry&rsquo;s authorship.</li> <li>With the exception of the PMLC <code>CHEMEDEPRMedicationStatementCard</code> that will continue to include <code>note.time</code> for each note.</li> <li><code>MedicationRequest.validityPeriod</code> is now optional, i.e. cardinality is <code>0..1</code>.</li> <li>If not specified, start is assumed to be the <code>MedicationRequest.authoredOn</code> date.</li> <li>If not specified, end is assumed to be <em>the end of time</em>, i.e. the request remains valid indefinitely to the aggregator.</li> </ul> </li> </ul> <p>Other aggregator changes:</p> <ul> <li><code>FindMedicationCard</code> queries will support the <code>ServiceStartFrom</code>, <code>ServiceStartTo</code>, <code>ServiceEndFrom</code>, <code>ServiceEndTo</code> parameters and apply them as follows:</li> <li>The consolidated (i.e. aggregated) start date of returned treatments must be between the specified <code>ServiceStartFrom</code> and <code>ServiceStartTo</code> parameters.<ul> <li>If <code>ServiceStartFrom</code> is not specified, any treatment starting before the specified <code>ServiceStartTo</code> will meet the service start criterium.</li> <li>If <code>ServiceStartTo</code> is not specified, any treatment starting at or after the specified <code>ServiceStartFrom</code> will meet the service start criterium.</li> <li>If neither <code>ServiceStartFrom</code> nor <code>ServiceStartTo</code> are specified, all treatments starting at any date will meet the service start criterium.</li> <li>Note that if a treatment does not have an explicit start date provided by a published document, it is assumed by the aggregator to be the date of creation of the MTP.</li> </ul> </li> <li>The consolidated end date of returned treatments must be between the specified <code>ServiceEndFrom</code> and <code>ServiceEndTo</code> parameters.<ul> <li>If <code>ServiceEndFrom</code> is not specified, any treatment ending before the specified <code>ServiceEndTo</code> will meet the service end criterium.</li> <li>If <code>ServiceEndTo</code> is not specified, any treatment ending at or after the specified <code>ServiceEndFrom</code> will meet the service end criterium.</li> <li>If neither <code>ServiceEndFrom</code> nor <code>ServiceEndTo</code> are specified, all treatments ending at any date will meet the service end criterium.</li> <li>Note that if a treatment does not have an explicit end date provided by a published document, it is assumed by the aggregator to be <em>the end of time</em>, i.e. will have no end date.</li> </ul> </li> <li>Implementation of XDS <code>ServiceStartFrom</code>, <code>ServiceStartTo</code>, <code>ServiceEndFrom</code>, <code>ServiceEndTo</code> criteria for all ITI-18 and PHARM-1 queries.</li> <li><code>ITI-18</code> queries will match the criteria ranges against the stored metadata <code>XDSDocumentEntry.serviceStartTime</code> and <code>XDSDocumentEntry.serviceStopTime</code> as provided at ITI-41 time. See <a href=transactions/date_processing.md>date processing</a>.</li> <li><code>PHARM-1</code> subqueries:<ul> <li><code>FindMedicationTreatmentPlans</code>, <code>FindMedicationList</code> and <code>FindMedicationCard</code> follow the same logic explained on the previous point.</li> <li><code>FindPrescriptions</code>, <code>FindPrescriptionsForValidation</code> and <code>FindPrescriptionsForDispense</code> will apply the criteria against the consolidated prescription&rsquo;s validity period. <ul> <li>The prescription validy start date shall match if:<ul> <li>Greater or equal than <code>ServiceStartFrom</code> if specified.</li> <li>Lesser than <code>ServiceStartTo</code> if specified.</li> </ul> </li> <li>The prescription validty end date shall match if:<ul> <li>Greater of equal than <code>ServiceEndFrom</code> if specified.</li> <li>Lesser than <code>ServiceEndTo</code> if specified.</li> </ul> </li> <li>If a prescription does not specify a validity period start date, it is assumed to be the date of medical authorship (i.e. <code>authoredOn</code>).</li> <li>If a prescription does not specify a validity period end date, it is assumed to not have an end date and hence any specified <em>&hellip;To</em> parameter should match.</li> </ul> </li> <li><code>FindDispenses</code> will apply the criteria against a single date, which is the date of dispense (i.e. <code>whenHandedOver</code>).</li> </ul> </li> <li>Support for a new custom parameter for <code>FindMedicationCard</code> queries, <code>$PMLCIncludeNonActive</code> has been added. If specified and <code>true</code>, it will include all the (aggregated) treatments (constrained by the specified dates criteria) for the patient, whether they are active or not (i.e. it will include also suspended or cancelled treatments). These treatments will be included as medication statements in the content of the PMLC document but will not be added to the generated PDF. Support for this parameter is already included since version (<code>2.1.2</code>) of <a href=https://github.com/project-husky/husky>Husky</a>.</li> <li>Support for ITI-45 (PIXV3 queries) requests. The aggregator recognizes 3 possible data sources: CARA&rsquo;s MPI&rsquo;s assigning authority OID, the Swiss Central Compensation Office&rsquo;s and the PMP&rsquo;s own patient identity domain.</li> <li>A new PMP-PID is generated by the PMP and assigned to the patient upon registration (i.e. new APPC submission).</li> </ul> <hr> <div class="md-source-file last-edited"> <svg xmlns=http://www.w3.org/2000/svg class="icon icon-tabler icon-tabler-clock-edit" width=24 height=24 viewbox="0 0 24 24" stroke-width=2 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round> <path stroke=none d="M0 0h24v24H0z" fill=none></path> <path d="M21 12a9.001 9.001 0 1 0 -9.972 8.948c.32 .034 .644 .052 .972 .052"></path> <path d="M12 7v5l2 2"></path> <path d="M18.42 15.61a2.1 2.1 0 0 1 2.97 2.97l-3.39 3.42h-3v-3l3.42 -3.39z"></path> </svg> This page was updated <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-11-04T09:04:08+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-11-04</span> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "toc.integrate", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.2a6f1dda.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> </body> </html>